webpackJsonp([1,4],{300:function(e,t,n){"use strict";function r(e){return{rows:Number(e.rows),cols:Number(e.cols),mines:Number(e.mines),cells:i(Number(e.rows),Number(e.cols),Number(e.mines)),flagsLeft:e.mines}}function i(e,t,r){var i=n.i(P.b)(e*t,{openedCell:!1,mineCell:!1,flaggedCell:!1,threatCount:0});return n.i(P.c)(r,i,"mineCell",!0),i.map(function(e,t){return e.cellNumber=t,e})}function a(e){return e.filter(function(e){return e.mineCell&&e.flaggedCell}).length}function l(e,t,n){return C(e.cells,n)?(j(e.cells,n,!1),t++):(j(e.cells,n,!0),t--),t}function o(e,t){O(e.cells,t)?(_(e.cells,t,!0),e.gameOver=!0):s(e,t)}function s(e,t){if(!O(e.cells,t)&&!R(e.cells,t)){var n=u(e,t);N(e.cells,t,n),_(e.cells,t,!0),0===n&&f(t,e).map(function(t){s(e,t)})}}function c(e,t,n){for(var r=[],i=0;i<e.length;i++)O(e,i)&&(C(e,i)||-1!==n.indexOf(i)?t?(j(e,i,!1),_(e,i,!0),r.push(i)):n.indexOf(i)>-1&&j(e,i,!0):_(e,i,t));return t?r:n}function u(e,t){return f(t,e).map(function(t){return O(e.cells,t)?1:0}).reduce(P.d,0)}function f(e,t){var n=[],r=t.cols,i=t.cells.length;return g(e,r,i)&&n.push(e-r),p(e,r,i)&&n.push(e-r-1),m(e,r,i)&&n.push(e-r+1),d(e,r)&&n.push(e-1),h(e,r)&&n.push(e+1),v(e,r,i)&&n.push(e+r),b(e,r,i)&&n.push(e+r-1),y(e,r,i)&&n.push(e+r+1),n}function g(e,t,n){return S(e-t,n)}function p(e,t,n){return!k(e,t)&&S(e-t-1,n)}function m(e,t,n){return!x(e,t)&&S(e-t+1,n)}function d(e,t){return!k(e,t)}function h(e,t){return!x(e,t)}function v(e,t,n){return S(e+t,n)}function b(e,t,n){return!k(e,t)&&S(e+t-1,n)}function y(e,t,n){return!x(e,t)&&S(e+t+1,n)}function C(e,t){return e[t].flaggedCell}function w(e){return a(e.cells)===e.mines}function M(e){return!0===e.gameOver}function R(e,t){return e[t].openedCell}function O(e,t){return e[t].mineCell}function j(e,t,n){e[t].flaggedCell=n,_(e,t,n)}function _(e,t,n){e[t].openedCell=n}function S(e,t){return e>=0&&e<=t-1}function k(e,t){return e%t==0}function x(e,t){return e%t==t-1}function N(e,t,n){e[t].threatCount=n}var P=n(301);t.h=r,t.g=l,t.d=o,t.a=c,t.f=C,t.b=w,t.c=M,t.e=R},301:function(e,t,n){"use strict";function r(e,t){for(var n=[];e>0;)n.push(Object.assign({},t)),e--;return n}function i(e,t,n,r){for(var i=[];e>0;){var a=Math.floor(Math.random()*t.length);-1===i.indexOf(a)&&(i.push(a),t[a][n]=r,e--)}}function a(e,t){for(var n=[],r=t.length/e,i=0;i<r;i++)n.push(t.slice(i*e,i*e+e));return n}function l(e,t){return e+t}t.b=r,t.c=i,t.a=a,t.d=l},344:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=344},345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(433),i=n(0),a=n(455),l=n(454);a.a.production&&n.i(i.a)(),n.i(r.a)().bootstrapModule(l.a)},453:function(e,t,n){"use strict";var r=n(0),i=n(300);n.d(t,"a",function(){return o});var a=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(){function e(){this.gameSettings={rows:10,cols:10,mines:5}}return e.prototype.ngOnInit=function(){this.startGame()},e.prototype.startGame=function(){this.gameManager=n.i(i.h)(this.gameSettings)},e.prototype.getMessage=function(){return null==this.gameSettings.rows||null==this.gameSettings.cols||null==this.gameSettings.mines?" * Please fill all game settings.":this.gameSettings.rows<0||this.gameSettings.cols<0||this.gameSettings.rows>300||this.gameSettings.cols>300?" * Rows and columns  should be in range of [1 , 300].":this.gameSettings.mines<0||this.gameSettings.mines>9e4?" * Mines amount should be in range of  [1 , 90000].":this.gameSettings.mines>this.gameSettings.rows*this.gameSettings.cols?" * Amount of mines is more than the board size.":""},e=a([n.i(r.U)({selector:"app-root",template:n(610)}),l("design:paramtypes",[])],e)}()},454:function(e,t,n){"use strict";var r=n(191),i=n(0),a=n(423),l=n(429),o=n(453),s=n(458),c=n(457),u=n(456);n.d(t,"a",function(){return p});var f=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};n.i(i.a)();var p=function(){function e(){}return e=f([n.i(i.b)({declarations:[o.a,s.a,c.a,u.a],imports:[r.a,a.a,l.a],providers:[],bootstrap:[o.a]}),g("design:paramtypes",[])],e)}()},455:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0}},456:function(e,t,n){"use strict";var r=n(0);n.d(t,"a",function(){return l});var i=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){}return e.prototype.getCellColor=function(e){return 1===e?"blue":2===e?"OldLace":3===e?"red":4===e?"orange":5===e?"yellow":"LightSteelBlue"},i([n.i(r.w)(),a("design:type",Object)],e.prototype,"gameCell",void 0),e=i([n.i(r.U)({selector:"app-game-cell",template:'\n    <div class="opened" [class.mine]="gameCell.mineCell" [class.flagged]="gameCell.flaggedCell">\n      <div class="closed" *ngIf="!gameCell.openedCell"></div>\n      <div *ngIf="gameCell.openedCell && !gameCell.mineCell && !gameCell.flaggedCell" [style.color]="getCellColor(gameCell.threatCount)">\n        {{ gameCell.threatCount > 0 ? gameCell.threatCount : \'\' }}\n      </div>\n    </div>\n  '}),a("design:paramtypes",[])],e)}()},457:function(e,t,n){"use strict";var r=n(0);n.d(t,"a",function(){return l});var i=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){this.cellClick=new r.G}return e.prototype.gameCellClicked=function(e,t){this.cellClick.next({cell:e,event:t})},i([n.i(r.w)(),a("design:type",Object)],e.prototype,"gameRow",void 0),i([n.i(r.T)(),a("design:type","function"==typeof(t=void 0!==r.G&&r.G)&&t||Object)],e.prototype,"cellClick",void 0),e=i([n.i(r.U)({selector:"app-game-row",template:'\n    <div class="flexRow">\n      <app-game-cell *ngFor="let cell of gameRow" [gameCell]="cell" (click)="gameCellClicked(cell,$event)"></app-game-cell>\n    </div>\n  '}),a("design:paramtypes",[])],e);var t}()},458:function(e,t,n){"use strict";var r=n(0),i=n(301),a=n(300);n.d(t,"a",function(){return s});var l=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,l=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.previouslyFlagged=[]}return e.prototype.superMan=function(){this.previouslyFlagged=n.i(a.a)(this.getCells(),this.superManMode,this.previouslyFlagged)},e.prototype.cellClicked=function(e){var t=this.getCellNumberClicked(e);if(n.i(a.b)(this.gameManager)||n.i(a.c)(this.gameManager))return void alert("Game is over.\nPlease start a new game.");this.isFlagEvent(e)?this.handleFlagAction(t):n.i(a.d)(this.gameManager,t),n.i(a.c)(this.gameManager)&&alert("Game over.\nYou loose, clicked on a mine !")},e.prototype.handleFlagAction=function(e){return n.i(a.e)(this.getCells(),e)&&!n.i(a.f)(this.getCells(),e)?void alert("Cell was previously revealed.\nA flag can't be placed on such cell."):0!==this.getFlagsLeft()||n.i(a.f)(this.getCells(),e)?(this.gameManager.flagsLeft=n.i(a.g)(this.gameManager,this.getFlagsLeft(),e),void(n.i(a.b)(this.gameManager)&&alert("Congratulations !\nYou win !"))):void alert("No more remaining flags.")},e.prototype.ngOnChanges=function(e){e.hasOwnProperty("gameManager")&&this.updateGame()},e.prototype.updateGame=function(){this.gameRows=n.i(i.a)(Number(this.gameManager.cols),this.getCells())},e.prototype.getCellNumberClicked=function(e){return e.cell.cellNumber},e.prototype.getCells=function(){return this.gameManager.cells},e.prototype.getFlagsLeft=function(){return this.gameManager.flagsLeft},e.prototype.isFlagEvent=function(e){return e.event.shiftKey},l([n.i(r.w)(),o("design:type",Object)],e.prototype,"gameManager",void 0),e=l([n.i(r.U)({selector:"app-minesweeper",template:n(611)}),o("design:paramtypes",[])],e)}()},610:function(e,t){e.exports='<div class="container">\n  <h1 align=center class="gameTitle"> . . Mine Sweeper . . </h1>\n  <div class="row row-content">\n    <div class="col-xs-12 col-sm-4">\n      <label>Rows    :</label><input #rowsNum type="number" min="1" max="300" step="1" [(ngModel)]="gameSettings.rows">\n    </div>\n    <div class="col-xs-12 col-sm-4">\n      <label>Columns    :</label><input #colsNum type="number" min="1" max="300" step="1" [(ngModel)]="gameSettings.cols"><br>\n    </div>\n    <div class="col-xs-12 col-sm-4">\n      <label>Mines    :</label><input #minesNum  type="number" min="1" max="90000" step="1" [(ngModel)]="gameSettings.mines"><br>\n    </div>\n  </div>\n  <div class="warningMessage">{{getMessage()}}</div><br>\n  <button [disabled]="getMessage()!=\'\'" (click)="startGame()" class="btn btn-warning"> Start Game </button>\n</div>\n<app-minesweeper [gameManager]="gameManager" #gameboard></app-minesweeper>\n<h3 align=center class="copyRight">Â© Copyright 2017 Ronen Butirev</h3>\n'},611:function(e,t){e.exports='<div>\r\n  <label>Super Man Mode</label>\r\n  <div class="checkbox">\r\n    <input type="checkbox" [(ngModel)]="superManMode" (change)="superMan()" id="superMan">\r\n    <label for="superMan"></label>\r\n  </div>\r\n</div>\r\n<label>Remained flags :</label> <label style="color:red;">{{gameManager.flagsLeft}}</label><br>\r\n<div class="gameBoard" align="center">\r\n  <app-game-row *ngFor="let row of gameRows" [gameRow]="row" (cellClick)="cellClicked($event)"></app-game-row>\r\n</div>\r\n'},623:function(e,t,n){e.exports=n(345)}},[623]);