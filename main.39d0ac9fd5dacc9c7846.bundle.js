webpackJsonp([1,4],{300:function(e,t,n){"use strict";function r(e){return{rows:Number(e.rows),cols:Number(e.cols),mines:Number(e.mines),cells:i(Number(e.rows),Number(e.cols),Number(e.mines)),flagsLeft:e.mines}}function i(e,t,r){var i,o=n.i(E.b)(e*t,{openedCell:!1,mineCell:!1,flaggedCell:!1,threatCount:0});return i=n.i(E.c)(r,o,"mineCell",!0),i.forEach(function(n){g(n,t,e*t).forEach(function(e){P(o,e,Number(o[e].threatCount+1))})}),o.map(function(e,t){return e.cellNumber=t,e})}function o(e){return e.filter(function(e){return e.mineCell&&e.flaggedCell}).length}function l(e,t,n){return w(e.cells,n)?(_(e.cells,n,!1),t++):(_(e.cells,n,!0),t--),t}function a(e,t){j(e.cells,t)?(x(e.cells,t,!0),e.gameOver=!0):s(e,t)}function s(e,t){var n=[];if(!u(e,t)&&(x(e.cells,t,!0),!c(e.cells,t)))for(g(t,e.cols,e.cells.length).forEach(function(e){n.push(e)});n.length>0;){var r=n.pop();u(e,r)||c(e.cells,r)||g(r,e.cols,e.cells.length).forEach(function(e){n.push(e)}),x(e.cells,r,!0)}}function c(e,t){return e[t].threatCount>0}function u(e,t){return j(e.cells,t)||O(e.cells,t)}function f(e,t,n){var r=[];return e.forEach(function(i){var o=i.cellNumber;j(e,o)&&(w(e,o)||-1!==n.indexOf(o)?t?(_(e,o,!1),x(e,o,!0),r.push(o)):n.indexOf(o)>-1&&_(e,o,!0):x(e,o,t))}),t?r:n}function g(e,t,n){var r=[];return p(e,t,n)&&r.push(e-t),m(e,t,n)&&r.push(e-t-1),d(e,t,n)&&r.push(e-t+1),h(e,t)&&r.push(e-1),v(e,t)&&r.push(e+1),b(e,t,n)&&r.push(e+t),y(e,t,n)&&r.push(e+t-1),C(e,t,n)&&r.push(e+t+1),r}function p(e,t,n){return S(e-t,n)}function m(e,t,n){return!k(e,t)&&S(e-t-1,n)}function d(e,t,n){return!N(e,t)&&S(e-t+1,n)}function h(e,t){return!k(e,t)}function v(e,t){return!N(e,t)}function b(e,t,n){return S(e+t,n)}function y(e,t,n){return!k(e,t)&&S(e+t-1,n)}function C(e,t,n){return!N(e,t)&&S(e+t+1,n)}function w(e,t){return e[t].flaggedCell}function R(e){return o(e.cells)===e.mines}function M(e){return!0===e.gameOver}function O(e,t){return e[t].openedCell}function j(e,t){return e[t].mineCell}function _(e,t,n){e[t].flaggedCell=n,x(e,t,n)}function x(e,t,n){e[t].openedCell=n}function S(e,t){return e>=0&&e<=t-1}function k(e,t){return e%t==0}function N(e,t){return e%t==t-1}function P(e,t,n){e[t].threatCount=n}var E=n(301);t.h=r,t.g=l,t.d=a,t.a=f,t.f=w,t.b=R,t.c=M,t.e=O},301:function(e,t,n){"use strict";function r(e,t){for(var n=[];e>0;)n.push(Object.assign({},t)),e--;return n}function i(e,t,n,r){for(var i=[];e>0;){var o=Math.floor(Math.random()*t.length);-1===i.indexOf(o)&&(i.push(o),t[o][n]=r,e--)}return i}function o(e,t){for(var n=[],r=t.length/e,i=0;i<r;i++)n.push(t.slice(i*e,i*e+e));return n}t.b=r,t.c=i,t.a=o},344:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=344},345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(433),i=n(0),o=n(455),l=n(454);o.a.production&&n.i(i.a)(),n.i(r.a)().bootstrapModule(l.a)},453:function(e,t,n){"use strict";var r=n(0),i=n(300);n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){this.gameSettings={rows:10,cols:10,mines:5}}return e.prototype.ngOnInit=function(){this.startGame()},e.prototype.startGame=function(){this.gameManager=n.i(i.h)(this.gameSettings)},e.prototype.getMessage=function(){return this.nullElementsExist()?" * Please fill all game settings.":this.inRange(this.gameSettings.rows,1,300)&&this.inRange(this.gameSettings.cols,1,300)?this.inRange(this.gameSettings.mines,1,9e4)?this.correctMinesAmount()?"":" * Amount of mines is more than the board size.":" * Mines amount should be in range of  [1 , 90000].":" * Rows and columns  should be in range of [1 , 300]."},e.prototype.nullElementsExist=function(){return null==this.gameSettings.rows||null==this.gameSettings.cols||null==this.gameSettings.mines},e.prototype.inRange=function(e,t,n){return e>=t&&e<=n},e.prototype.correctMinesAmount=function(){return this.gameSettings.mines<=this.gameSettings.rows*this.gameSettings.cols},e=o([n.i(r.U)({selector:"app-root",template:n(610)}),l("design:paramtypes",[])],e)}()},454:function(e,t,n){"use strict";var r=n(191),i=n(0),o=n(423),l=n(429),a=n(453),s=n(458),c=n(457),u=n(456);n.d(t,"a",function(){return p});var f=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};n.i(i.a)();var p=function(){function e(){}return e=f([n.i(i.b)({declarations:[a.a,s.a,c.a,u.a],imports:[r.a,o.a,l.a],providers:[],bootstrap:[a.a]}),g("design:paramtypes",[])],e)}()},455:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={production:!0}},456:function(e,t,n){"use strict";var r=n(0);n.d(t,"a",function(){return l});var i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){}return e.prototype.getCellColor=function(e){return 1===e?"blue":2===e?"OldLace":3===e?"red":4===e?"orange":5===e?"yellow":"LightSteelBlue"},i([n.i(r.w)(),o("design:type",Object)],e.prototype,"gameCell",void 0),e=i([n.i(r.U)({selector:"app-game-cell",template:'\n    <div class="opened" [class.mine]="gameCell.mineCell" [class.flagged]="gameCell.flaggedCell">\n      <div class="closed" *ngIf="!gameCell.openedCell"></div>\n      <div *ngIf="gameCell.openedCell && !gameCell.mineCell && !gameCell.flaggedCell" [style.color]="getCellColor(gameCell.threatCount)">\n        {{ gameCell.threatCount > 0 ? gameCell.threatCount : \'\' }}\n      </div>\n    </div>\n  '}),o("design:paramtypes",[])],e)}()},457:function(e,t,n){"use strict";var r=n(0);n.d(t,"a",function(){return l});var i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){this.cellClick=new r.G}return e.prototype.gameCellClicked=function(e,t){this.cellClick.next({cell:e,event:t})},i([n.i(r.w)(),o("design:type",Object)],e.prototype,"gameRow",void 0),i([n.i(r.T)(),o("design:type","function"==typeof(t=void 0!==r.G&&r.G)&&t||Object)],e.prototype,"cellClick",void 0),e=i([n.i(r.U)({selector:"app-game-row",template:'\n    <div class="flexRow">\n      <app-game-cell *ngFor="let cell of gameRow" [gameCell]="cell" (click)="gameCellClicked(cell,$event)"></app-game-cell>\n    </div>\n  '}),o("design:paramtypes",[])],e);var t}()},458:function(e,t,n){"use strict";var r=n(0),i=n(301),o=n(300);n.d(t,"a",function(){return s});var l=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(o<3?i(l):o>3?i(t,n,l):i(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.previouslyFlagged=[]}return e.prototype.superMan=function(){this.previouslyFlagged=n.i(o.a)(this.getCells(),this.superManMode,this.previouslyFlagged)},e.prototype.cellClicked=function(e){var t=this.getCellNumberClicked(e);if(n.i(o.b)(this.gameManager)||n.i(o.c)(this.gameManager))return void alert("Game is over.\nPlease start a new game.");this.isFlagEvent(e)?this.handleFlagAction(t):n.i(o.d)(this.gameManager,t),n.i(o.c)(this.gameManager)&&alert("Game over.\nYou loose, clicked on a mine !")},e.prototype.handleFlagAction=function(e){return n.i(o.e)(this.getCells(),e)&&!n.i(o.f)(this.getCells(),e)?void alert("Cell was previously revealed.\nA flag can't be placed on such cell."):0!==this.getFlagsLeft()||n.i(o.f)(this.getCells(),e)?(this.gameManager.flagsLeft=n.i(o.g)(this.gameManager,this.getFlagsLeft(),e),void(n.i(o.b)(this.gameManager)&&alert("Congratulations !\nYou win !"))):void alert("No more remaining flags.")},e.prototype.ngOnChanges=function(e){e.hasOwnProperty("gameManager")&&this.updateGame()},e.prototype.updateGame=function(){this.gameRows=n.i(i.a)(Number(this.gameManager.cols),this.getCells())},e.prototype.getCellNumberClicked=function(e){return e.cell.cellNumber},e.prototype.getCells=function(){return this.gameManager.cells},e.prototype.getFlagsLeft=function(){return this.gameManager.flagsLeft},e.prototype.isFlagEvent=function(e){return e.event.shiftKey},l([n.i(r.w)(),a("design:type",Object)],e.prototype,"gameManager",void 0),e=l([n.i(r.U)({selector:"app-minesweeper",template:n(611)}),a("design:paramtypes",[])],e)}()},610:function(e,t){e.exports='<div class="container">\n  <h1 align=center class="gameTitle"> . . Mine Sweeper . . </h1>\n  <div class="row row-content">\n    <div class="col-xs-12 col-sm-4">\n      <label>Rows    :</label><input #rowsNum type="number" min="1" max="300" step="1" [(ngModel)]="gameSettings.rows">\n    </div>\n    <div class="col-xs-12 col-sm-4">\n      <label>Columns    :</label><input #colsNum type="number" min="1" max="300" step="1" [(ngModel)]="gameSettings.cols"><br>\n    </div>\n    <div class="col-xs-12 col-sm-4">\n      <label>Mines    :</label><input #minesNum  type="number" min="1" max="90000" step="1" [(ngModel)]="gameSettings.mines"><br>\n    </div>\n  </div>\n  <div class="warningMessage">{{getMessage()}}</div><br>\n  <button [disabled]="getMessage()!=\'\'" (click)="startGame()" class="btn btn-warning"> Start Game </button>\n</div>\n<app-minesweeper [gameManager]="gameManager" #gameboard></app-minesweeper>\n<h3 align=center class="copyRight">© Copyright 2017 Ronen Butirev</h3>\n'},611:function(e,t){e.exports='<div>\r\n  <label>Super Man Mode</label>\r\n  <div class="checkbox">\r\n    <input type="checkbox" [(ngModel)]="superManMode" (change)="superMan()" id="superMan">\r\n    <label for="superMan"></label>\r\n  </div>\r\n</div>\r\n<label>Remained flags :</label> <label style="color:red;">{{gameManager.flagsLeft}}</label><br>\r\n<div class="gameBoard" align="center">\r\n  <app-game-row *ngFor="let row of gameRows" [gameRow]="row" (cellClick)="cellClicked($event)"></app-game-row>\r\n</div>\r\n'},623:function(e,t,n){e.exports=n(345)}},[623]);